# ============================================
# AGRI-HOOK ENVIRONMENT VARIABLES
# ============================================
# Copy this file to .env and fill in your values
# ============================================

# ============================================
# Wallet Configuration
# ============================================
# Your wallet private key (NEVER commit this!)
PRIVATE_KEY=your_private_key_here

# ============================================
# RPC Endpoints
# ============================================
COSTON2_RPC=https://coston2-api.flare.network/ext/C/rpc

# ============================================
# DEPLOYED CONTRACT ADDRESSES (Coston2 Testnet)
# ============================================
# Latest deployment: December 2025
# Deployer: 0x750Fc8e72A4b00da9A5C9b116487ABC28360023f

# Tokens
FBTC_ADDRESS=0x8C691A99478D3b3fE039f777650C095578debF12
COFFEE_ADDRESS=0x223163b9109e43BdA9d719DF1e7E584d781b93fd

# Core Contracts
WEATHER_ORACLE_ADDRESS=0x6c6ad692489a89514bD4C8e9344a0Bc387c32438
INSURANCE_VAULT_ADDRESS=0x41233B5b9fAc54512ea322668AC20107F89A7562
POOL_MANAGER_ADDRESS=0x684718B39D97b0A9b40791ccE88766cbe3d04414

# Hook (to be deployed with CREATE2)
AGRI_HOOK_ADDRESS=

# ============================================
# Hook Deployment (for CREATE2)
# ============================================
# Use these addresses for hook deployment
POOL_MANAGER=0x684718B39D97b0A9b40791ccE88766cbe3d04414
ORACLE=0x6c6ad692489a89514bD4C8e9344a0Bc387c32438

# Hook salt (must be mined for these specific addresses)
# Run: forge script script/MineHookSalt.s.sol --rpc-url $COSTON2_RPC
# This will find a salt that produces a valid hook address with correct flags
HOOK_SALT=

# ============================================
# Weather API Keys
# ============================================
# OpenWeatherMap (free tier: 60 calls/min)
# Get your key at: https://openweathermap.org/api
OPENWEATHERMAP_API_KEY=615438bd3a7fe978b5682e1813112658

# WeatherAPI.com (backup)
WEATHER_API_KEY=b215dd0a8bf64c79b8063516250512

# Visual Crossing (backup)
VISUAL_CROSSING_API_KEY=RWPN3F68K42ESNZ65XP9TFA6R

# ============================================
# Flare System Addresses (Coston2)
# ============================================
FTSO_REGISTRY=0xaD67FE66660Fb8dFE9d6b1b4240d8650e30F6019
FDC_VERIFICATION=0x89D20A10A3014b2023023f01D9337583B9273c52
CONTRACT_REGISTRY=0xaD67FE66660Fb8dFE9d6b1b4240d8650e30F6019

# FDC Verifier
FDC_VERIFIER_URL=https://fdc-verifiers-testnet.flare.network

# ============================================
# Optional: Block Explorer API (for verification)
# ============================================
ETHERSCAN_API_KEY=

# ============================================
# QUICK START COMMANDS
# ============================================
# 
# 1. Mine hook salt:
#    forge script script/MineHookSalt.s.sol --rpc-url $COSTON2_RPC
#
# 2. Deploy hook with CREATE2:
#    forge script script/DeployHookCREATE2.s.sol --rpc-url $COSTON2_RPC --private-key $PRIVATE_KEY --broadcast
#
# 3. Test FTSO:
#    cast send $WEATHER_ORACLE_ADDRESS "updatePriceFromFTSO()" --rpc-url $COSTON2_RPC --private-key $PRIVATE_KEY
#
# 4. Test FDC:
#    npm run fdc:test minas_gerais
#
# 5. Simulate drought:
#    cast send $WEATHER_ORACLE_ADDRESS "updateWeatherSimple(uint256,int256,int256)" 0 -18512200 -44555000 --rpc-url $COSTON2_RPC --private-key $PRIVATE_KEY
#
# 6. Create insurance policy:
#    cast send $INSURANCE_VAULT_ADDRESS "createPolicy(int256,int256,uint256)" -18512200 -44555000 5000000000 --value 1ether --rpc-url $COSTON2_RPC --private-key $PRIVATE_KEY
#
